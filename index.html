<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GeoDoc</title>
    <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="styles/main.css">
  <script src="https://cdn.jsdelivr.net/npm/exif-js"></script>
  <link href="https://fonts.googleapis.com/css?family=Roboto|Lora|Open+Sans&display=swap" rel="stylesheet">
</head>
<body class="bg-gradient-to-br from-blue-50 to-blue-100 min-h-screen flex flex-col">
  <!-- header dihapus, menu dipindah ke bawah judul aplikasi -->
  <div class="flex-grow flex items-center justify-center px-0 md:px-4">
    <div class="container max-w-md w-full bg-white rounded-xl shadow-lg p-0 md:p-6 mt-0 md:mt-8 mb-0 md:mb-8 flex flex-col items-center gap-4 relative">
  <div id="sticky-settings" class="w-full z-30 bg-white bg-opacity-95 border-b border-blue-200 md:rounded-xl md:shadow-lg md:mt-0 flex flex-col items-center">
  <!-- Tombol toggle pengaturan dihapus agar panel selalu tampil di mobile -->
        <div id="settingsPanel" class="w-full flex flex-col gap-2 p-2 md:p-4 bg-blue-50 md:bg-blue-50 rounded-none md:rounded-lg border-b border-blue-200 md:border md:mb-4 transition-all duration-300">
          <h1 class="text-lg md:text-2xl font-bold text-blue-700 mb-1 text-center drop-shadow">GeoDoc</h1>
          <div class="text-xs md:text-base text-center mb-2">Aplikasi ini digunakan untuk Backup Timestamp & Geotagging Dokumentasi Kegiatan di</div>
          <div class="text-xs md:text-base text-center mb-2">Balai Wilayah Sungai Sumatera VI</div>
          <div class="w-full flex justify-center mb-3">
            <a href="petunjuk.html" class="bg-yellow-400 hover:bg-yellow-500 text-blue-900 font-semibold px-4 py-2 rounded shadow transition-colors duration-200 text-xs md:text-sm">Petunjuk Penggunaan</a>
          </div>
          <input 
            type="file" 
            id="upload" 
            accept="image/*" 
            class="upload-input block w-full text-xs md:text-sm text-gray-700 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-400 transition duration-200 mb-2"
          >
          <div class="grid grid-cols-2 md:grid-cols-3 gap-2 mb-2">
            <div class="flex flex-col items-center">
              <label for="fontColor" class="font-semibold text-xs md:text-sm">Warna Font</label>
              <input type="color" id="fontColor" value="#ffff00" class="w-8 h-8 border rounded shadow">
            </div>
            <div class="flex flex-col items-center">
              <label for="fontSize" class="font-semibold text-xs md:text-sm">Ukuran Font</label>
              <input type="range" id="fontSize" min="10" max="64" value="28" class="w-24 md:w-28 accent-blue-600">
              <span id="fontSizeValue" class="text-[10px] md:text-xs text-gray-500 mt-1">28</span>
            </div>
            <div class="flex flex-col items-center">
              <label for="fontFamily" class="font-semibold text-xs md:text-sm">Font</label>
              <select id="fontFamily" class="border rounded px-1 py-1 text-xs">
                <option value="Arial">Arial</option>
                <option value="Roboto">Roboto</option>
                <option value="Lora">Lora</option>
                <option value="Open Sans">Open Sans</option>
              </select>
            </div>
            <div class="flex flex-col items-center">
              <label for="textPosition" class="font-semibold text-xs md:text-sm">Vertikal</label>
              <select id="textPosition" class="border rounded px-1 py-1 text-xs">
                <option value="top">Atas</option>
                <option value="middle">Tengah</option>
                <option value="bottom">Bawah</option>
              </select>
            </div>
            <div class="flex flex-col items-center">
              <label for="textAlign" class="font-semibold text-xs md:text-sm">Horizontal</label>
              <select id="textAlign" class="border rounded px-1 py-1 text-xs">
                <option value="left">Kiri</option>
                <option value="center">Tengah</option>
                <option value="right">Kanan</option>
              </select>
            </div>
            <div class="flex flex-col items-center">
              <label for="watermarkLogo" class="font-semibold text-xs md:text-sm">Logo Watermark</label>
              <input type="file" id="watermarkLogo" accept="image/*" class="block w-full text-xs text-gray-700 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-400 transition duration-200">
            </div>
            <div class="flex flex-col items-center">
              <label for="watermarkColor" class="font-semibold text-xs md:text-sm">Warna Watermark</label>
              <input type="color" id="watermarkColor" value="#ffff00" class="w-8 h-8 border rounded shadow">
            </div>
            <div class="flex flex-col items-center">
              <label for="watermarkSize" class="font-semibold text-xs md:text-sm">Ukuran Watermark</label>
              <input type="range" id="watermarkSize" min="10" max="64" value="22" class="w-24 md:w-28 accent-blue-600">
              <span id="watermarkSizeValue" class="text-[10px] md:text-xs text-gray-500 mt-1">22</span>
            </div>
            <div class="flex flex-col items-center">
              <label for="watermarkPosition" class="font-semibold text-xs md:text-sm">Posisi Watermark</label>
              <select id="watermarkPosition" class="border rounded px-1 py-1 text-xs">
                <option value="bottom-right">Kanan Bawah</option>
                <option value="bottom-left">Kiri Bawah</option>
                <option value="top-right">Kanan Atas</option>
                <option value="top-left">Kiri Atas</option>
              </select>
            </div>
          </div>
          <span class="text-[10px] md:text-xs text-gray-500 block text-center">Logo watermark opsional, akan muncul di pojok sesuai pengaturan watermark</span>
        </div>
      </div>
  <div class="pt-4 md:pt-0 w-full flex flex-col items-center">
        <div id="info" class="info text-gray-600 text-xs md:text-sm w-full text-center mb-2"></div>
        <canvas id="canvas" class="hidden"></canvas>
        <img 
          id="result" 
          alt="Hasil Foto dengan Timestamp dan Lokasi" 
          class="result-image max-w-full rounded-lg shadow-md transition-transform duration-300 hover:scale-105"
        >
        <a 
          id="downloadBtn" 
          download="foto_dengan_timestamp_lokasi.jpg" 
          class="download-btn hidden mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition-all duration-200 text-lg font-semibold"
        >⬇️ Download Hasil</a>
      </div>
    </div>
  </div>
  <footer class="footer bg-white bg-opacity-80 py-4 text-center text-gray-600 text-sm shadow-inner">
    <p>
      Dibuat oleh <strong>Muntaqim Asbuch, S.Kom.</strong><br>
      <strong>Direktorat Jenderal Sumber Daya Air</strong><br>
      <strong>Balai Wilayah Sungai Sumatera VI</strong><br>
      <a href="https://instagram.com/shemilael" target="_blank" title="Instagram" class="inline-block mx-1 hover:scale-110 transition-transform">
        <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg" alt="Instagram" class="h-5 inline align-middle"> @shemilael
      </a> |
      <a href="https://facebook.com/shemilael" target="_blank" title="Facebook" class="inline-block mx-1 hover:scale-110 transition-transform">
        <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg" alt="Facebook" class="h-5 inline align-middle"> @shemilael
      </a> |
      <a href="https://linkedin.com/in/shemilael" target="_blank" title="Linkedin" class="inline-block mx-1 hover:scale-110 transition-transform">
        <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/linkedin.svg" alt="Linkedin" class="h-5 inline align-middle"> @shemilael
      </a> |
      <a href="https://twitter.com/shemilael" target="_blank" title="Twitter" class="inline-block mx-1 hover:scale-110 transition-transform">
        <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/twitter.svg" alt="Twitter" class="h-5 inline align-middle"> @shemilael
      </a>
      <a href="https://github.com/shemilael" target="_blank" title="GitHub" class="inline-block mx-1 hover:scale-110 transition-transform">
        <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/github.svg" alt="GitHub" class="h-5 inline align-middle"> @shemilael
      </a>
    </p>
  </footer>
  <script>
  // Panel pengaturan selalu tampil di semua ukuran layar, tidak ada toggle
    // Slider value display for fontSize and watermarkSize
    const fontSizeSlider = document.getElementById('fontSize');
    const fontSizeValue = document.getElementById('fontSizeValue');
    if (fontSizeSlider && fontSizeValue) {
      fontSizeSlider.addEventListener('input', function() {
        fontSizeValue.textContent = fontSizeSlider.value;
      });
      fontSizeValue.textContent = fontSizeSlider.value;
    }
    const watermarkSizeSlider = document.getElementById('watermarkSize');
    const watermarkSizeValue = document.getElementById('watermarkSizeValue');
    if (watermarkSizeSlider && watermarkSizeValue) {
      watermarkSizeSlider.addEventListener('input', function() {
        watermarkSizeValue.textContent = watermarkSizeSlider.value;
      });
      watermarkSizeValue.textContent = watermarkSizeSlider.value;
    }
  </script>
  <script src="scripts/app.js"></script>
</body>
</html>